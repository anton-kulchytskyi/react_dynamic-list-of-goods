{"version":3,"sources":["api/goods.ts","components/GoodsList/GoodsList.tsx","components/LoadingError/LoadingError.tsx","App.tsx","index.tsx"],"names":["API_URL","loader","delay","Promise","resolve","setTimeout","getAll","a","fetch","then","response","json","get5First","serverAnswer","sort","b","name","localeCompare","slice","getRed","filter","el","color","GoodsList","goods","className","map","good","style","id","LoadingError","App","state","goodsErrorLoading","allGoodsLoader","fiveGoodsLoader","redGoodsLoader","loadFromServer","loadFun","setState","goodsFromServer","allGoods","fiveAscAlphabeticSortGoods","redGoods","this","type","onClick","length","React","Component","ReactDOM","render","document","getElementById"],"mappings":"8SACMA,EAAO,wEAEb,SAASC,EAAOC,GACd,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,MAG7C,SAAeI,IAAtB,+B,4CAAO,sBAAAC,EAAA,sEACCN,EAAO,KADR,gCAGEO,MAAMR,GACVS,MAAK,SAAAC,GAAQ,OAAIA,EAASC,WAJxB,4C,sBAOA,IAAMC,EAAS,uCAAG,4BAAAL,EAAA,sEACID,IADJ,cACjBO,EADiB,yBAGhBA,EAAaC,MAAK,SAACP,EAAGQ,GAAJ,OAAUR,EAAES,KAAKC,cAAcF,EAAEC,SAAOE,MAAM,EAAG,IAHnD,2CAAH,qDAMTC,EAAM,uCAAG,4BAAAZ,EAAA,sEACOD,IADP,cACdO,EADc,yBAGbA,EAAaO,QAAO,SAAAC,GAAE,MAAiB,QAAbA,EAAGC,UAHhB,2CAAH,qD,qBCPNC,EAA6B,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACxC,qBAAKC,UAAU,QAAf,SACE,oBAAIA,UAAU,cAAd,SACGD,EAAME,KAAI,SAAAC,GAAI,OACb,oBAEEC,MAAO,CAAEN,MAAOK,EAAKL,OAFvB,SAIGK,EAAKX,MAHDW,EAAKE,YCfPC,G,MAAyB,kBACpC,mBAAGL,UAAU,QAAb,4CCgBWM,EAAb,4MACEC,MAAQ,CACNR,MAAO,GACPS,mBAAmB,EACnBC,gBAAgB,EAChBC,iBAAiB,EACjBC,gBAAgB,GANpB,EASEC,eATF,uCASmB,WAAOC,GAAP,eAAA/B,EAAA,6DACf,EAAKgC,SAAS,CACZf,MAAO,GACPS,mBAAmB,IAHN,kBAMiBK,IANjB,OAMPE,EANO,OAQb,EAAKD,SAAS,CACZf,MAAOgB,EACPN,gBAAgB,EAChBC,iBAAiB,EACjBC,gBAAgB,IAZL,gDAeb,EAAKG,SAAS,CACZN,mBAAmB,EACnBC,gBAAgB,EAChBC,iBAAiB,EACjBC,gBAAgB,IAnBL,yDATnB,wDAiCEK,SAAW,WACT,EAAKF,SAAS,CACZL,gBAAgB,IAElB,EAAKG,eAAe/B,IArCxB,EAwCEoC,2BAA6B,WAC3B,EAAKH,SAAS,CACZJ,iBAAiB,IAEnB,EAAKE,eAAezB,IA5CxB,EA+CE+B,SAAW,WACT,EAAKJ,SAAS,CACZH,gBAAgB,IAElB,EAAKC,eAAelB,IAnDxB,4CAsDE,WACE,MAMIyB,KAAKZ,MALPR,EADF,EACEA,MACAS,EAFF,EAEEA,kBACAC,EAHF,EAGEA,eACAC,EAJF,EAIEA,gBACAC,EALF,EAKEA,eAGF,OACE,sBAAKX,UAAU,MAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,wBACEA,UAAU,SACVoB,KAAK,SACLC,QAASF,KAAKH,SAHhB,SAKGP,GAAmC,IAAjBV,EAAMuB,OACvB,qBAAKtB,UAAU,WAGZ,mBAEP,wBACEA,UAAU,SACVoB,KAAK,SACLC,QAASF,KAAKF,2BAHhB,SAKGP,GAAoC,IAAjBX,EAAMuB,OACxB,qBAAKtB,UAAU,WACZ,iBAEP,wBACEA,UAAU,SACVoB,KAAK,SACLC,QAASF,KAAKD,SAHhB,SAKGP,GAAmC,IAAjBZ,EAAMuB,OACvB,qBAAKtB,UAAU,WACZ,sBAGRQ,GAAqB,cAAC,EAAD,IACrBT,EAAMuB,OAAS,GAAK,cAAC,EAAD,CAAWvB,MAAOA,WAjG/C,GAAyBwB,IAAMC,WCjB/BC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.fa0bacb4.chunk.js","sourcesContent":["// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nfunction loader(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport async function getAll(): Promise<Good[]> {\n  await loader(1000);\n\n  return fetch(API_URL)\n    .then(response => response.json());\n}\n\nexport const get5First = async () => {\n  const serverAnswer = await getAll();\n\n  return serverAnswer.sort((a, b) => a.name.localeCompare(b.name)).slice(0, 5);\n};\n\nexport const getRed = async () => {\n  const serverAnswer = await getAll();\n\n  return serverAnswer.filter(el => el.color === 'red');\n};\n","import React from 'react';\nimport './GoodsList.scss';\n\ntype Good = {\n  id: number,\n  name: string,\n  color: string,\n};\n\ntype Props = {\n  goods: Good[]\n};\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <div className=\"goods\">\n    <ul className=\"goods__list\">\n      {goods.map(good => (\n        <li\n          key={good.id}\n          style={{ color: good.color }}\n        >\n          {good.name}\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n","import React from 'react';\nimport './LoadingError.scss';\n\nexport const LoadingError: React.FC = () => (\n  <p className=\"error\">\n    Cannot load data from server\n  </p>\n);\n","import React from 'react';\nimport { getAll, get5First, getRed } from './api/goods';\nimport './App.scss';\nimport { GoodsList } from './components/GoodsList/GoodsList';\nimport { LoadingError } from './components/LoadingError/LoadingError';\n\ninterface State {\n  goods: Good[],\n  goodsErrorLoading: boolean,\n  allGoodsLoader: boolean,\n  fiveGoodsLoader: boolean,\n  redGoodsLoader: boolean,\n}\n\ntype Good = {\n  id: number,\n  name: string,\n  color: string,\n};\n\nexport class App extends React.Component<{}, State> {\n  state = {\n    goods: [],\n    goodsErrorLoading: false,\n    allGoodsLoader: false,\n    fiveGoodsLoader: false,\n    redGoodsLoader: false,\n  };\n\n  loadFromServer = async (loadFun: () => Promise<Good[]>) => {\n    this.setState({\n      goods: [],\n      goodsErrorLoading: false,\n    });\n    try {\n      const goodsFromServer = await loadFun();\n\n      this.setState({\n        goods: goodsFromServer,\n        allGoodsLoader: false,\n        fiveGoodsLoader: false,\n        redGoodsLoader: false,\n      });\n    } catch (error) {\n      this.setState({\n        goodsErrorLoading: true,\n        allGoodsLoader: false,\n        fiveGoodsLoader: false,\n        redGoodsLoader: false,\n      });\n    }\n  };\n\n  allGoods = () => {\n    this.setState({\n      allGoodsLoader: true,\n    });\n    this.loadFromServer(getAll);\n  };\n\n  fiveAscAlphabeticSortGoods = () => {\n    this.setState({\n      fiveGoodsLoader: true,\n    });\n    this.loadFromServer(get5First);\n  };\n\n  redGoods = () => {\n    this.setState({\n      redGoodsLoader: true,\n    });\n    this.loadFromServer(getRed);\n  };\n\n  render() {\n    const {\n      goods,\n      goodsErrorLoading,\n      allGoodsLoader,\n      fiveGoodsLoader,\n      redGoodsLoader,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"buttons-container\">\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={this.allGoods}\n          >\n            {allGoodsLoader && goods.length === 0 ? (\n              <div className=\"loader\">\n                {}\n              </div>\n            ) : ('Load all goods')}\n          </button>\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={this.fiveAscAlphabeticSortGoods}\n          >\n            {fiveGoodsLoader && goods.length === 0 ? (\n              <div className=\"loader\">{}</div>\n            ) : ('Load 5 goods')}\n          </button>\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={this.redGoods}\n          >\n            {redGoodsLoader && goods.length === 0 ? (\n              <div className=\"loader\">{}</div>\n            ) : ('Load red goods')}\n          </button>\n        </div>\n        {goodsErrorLoading && <LoadingError />}\n        {goods.length > 0 && <GoodsList goods={goods} />}\n      </div>\n    );\n  }\n}\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}